<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="css/main.css" type="text/css"/>
    <script src="js/jQuery.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/knockout.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/simplePagination.css" type="text/css"/>
    <script src="js/jquery.simplePagination.js" type="text/javascript"></script>
    <script src="js/index.js" type="text/javascript"></script>
    <title>数据源列表</title>
</head>
<body>

<!--删除操作提示-->
<div class="modal fade" id="modal_delete_info" tabindex="-1" role="dialog" aria-labelledby="modal_delete_title" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="modal_delete_title">删除提示</h4>
            </div>
            <div class="modal-body">确认删除？删除后模板数据无法恢复！</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" data-bind="click: modalDelete">确定</button>
            </div>
        </div>
    </div>
</div>

<!--导入导出-->
<div class="modal fade" id="model_export" tabindex="-1" role="dialog" aria-labelledby="model_export_title"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title" id="model_export_title"></h4>
            </div>
            <div class="modal-body">
                <!--显示错误信息-->
                <div id="export_result"></div>
                <div class="form-group">
                    <div class="alert alert-warning alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <strong>说明：</strong>windows中目录必须以"\"结束，linux中目录必须以"/"结束。
                    </div>
                </div>
                <div class="form-group">
                    <label for="file_path" class="control-label">文件夹路径：</label>
                    <input type="text" class="form-control" id="file_path" value="/home/linux/template/">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="btn_modalexport_confirm">确定</button>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <!--操作提示-->
            <div id="option_alert"></div>
        </div>
    </div>

    <div class="row">
        <h1 class="text-center">数据源列表</h1>
    </div>
    <div class="row addRowTopMargin">
        <div class="col-md-12">
            <button type="button" class="btn btn-primary" data-bind="click: addNew">添加</button>
            <button type="button" class="btn btn-primary" data-optiontype="file_export" data-toggle="modal" data-target="#model_export">批量导出模板</button>
            <button type="button" class="btn btn-primary" data-optiontype="file_import" data-toggle="modal" data-target="#model_export">批量导入模板</button>
        </div>
    </div>
    <div class="row addRowTopMargin">
        <div class="col-md-12">
            <table class="table table-bordered table-striped">
                <thead>
                <tr>
                    <td>序号</td>
                    <td>名称</td>
                    <td>描述</td>
                    <td>数据源地址</td>
                    <td>状态</td>
                    <td>操作</td>
                </tr>
                </thead>
                <tbody data-bind="foreach: paginationUrls">
                <tr>
                    <td data-bind="text: ($index()+1)"></td>
                    <td data-bind="text: name"></td>
                    <td data-bind="text: description"></td>
                    <td data-bind="text: url" style="width: 400px;word-break: break-all"></td>
                    <td data-bind="text: statusText"></td>
                    <td>
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.enableTemplate, disable:status">启用</button>
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.disableTemplate, enable:status">停用</button>
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.updateItem">修改</button>
                        <button type="button" class="btn btn-primary" data-bind="click: $parent.showDeleteModal">删除</button>
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="6">
                        <div id="data_pagination"></div>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>
</body>
</html>